import{r as a}from"./router-CPryua6o.js";import{u}from"./use-conversation-id-DQbtss6X.js";import{u as c}from"./useQuery-C1weQHjG.js";import{O as r}from"./open-hands-Dol13NBS.js";const i=1e3*60*5,m=1e3*60*15,v=(e,t)=>c({queryKey:["user","conversation",e],queryFn:async()=>await r.getConversation(e),enabled:!!e,retry:!1,refetchInterval:t,staleTime:i,gcTime:m}),E=1e3*60*5,d=()=>{var s;const{conversationId:e}=u(),t=v(e,n=>{var o;return((o=n.state.data)==null?void 0:o.status)==="STARTING"?3e3:E});return a.useEffect(()=>{const n=t.data;r.setCurrentConversation(n||null)},[e,t.isFetched,(s=t==null?void 0:t.data)==null?void 0:s.status]),t};export{d as u};
